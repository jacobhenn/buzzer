var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(e,t,n=t){return e.set(n),t}function i(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function h(){return m(" ")}function p(){return m("")}function g(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}function z(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function v(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}}function k(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let w;function x(e){w=e}const N=[],S=[],C=[],_=[],O=Promise.resolve();let E=!1;function T(e){C.push(e)}let B=!1;const L=new Set;function j(){if(!B){B=!0;do{for(let e=0;e<N.length;e+=1){const t=N[e];x(t),H(t.$$)}for(x(null),N.length=0;S.length;)S.pop()();for(let e=0;e<C.length;e+=1){const t=C[e];L.has(t)||(L.add(t),t())}C.length=0}while(N.length);for(;_.length;)_.pop()();E=!1,B=!1,L.clear()}}function H(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const J=new Set;let M;function P(){M={r:0,c:[],p:M}}function I(){M.r||o(M.c),M=M.p}function K(e,t){e&&e.i&&(J.delete(e),e.i(t))}function R(e,t,n,o){if(e&&e.o){if(J.has(e))return;J.add(e),M.c.push((()=>{J.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function A(e,t){R(e,1,1,(()=>{t.delete(e.key)}))}function U(e){e&&e.c()}function W(e,n,s){const{fragment:c,on_mount:l,on_destroy:i,after_update:u}=e.$$;c&&c.m(n,s),T((()=>{const n=l.map(t).filter(r);i?i.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(T)}function q(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function D(e,t){-1===e.$$.dirty[0]&&(N.push(e),E||(E=!0,O.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function F(t,r,s,c,l,i,u=[-1]){const d=w;x(t);const f=r.props||{},m=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let h=!1;if(m.ctx=s?s(t,f,((e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&l(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),h&&D(t,e)),n})):[],m.update(),h=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);m.fragment&&m.fragment.l(e),e.forEach(a)}else m.fragment&&m.fragment.c();r.intro&&K(t.$$.fragment),W(t,r.target,r.anchor),j()}x(d)}class G{$destroy(){q(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Q=[];function V(t,n=e){let o;const r=[];function c(e){if(s(t,e)&&(t=e,o)){const e=!Q.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),Q.push(n,t)}if(e){for(let e=0;e<Q.length;e+=2)Q[e][0](Q[e+1]);Q.length=0}}}return{set:c,update:function(e){c(e(t))},subscribe:function(s,l=e){const i=[s,l];return r.push(i),1===r.length&&(o=n(c)||e),s(t),()=>{const e=r.indexOf(i);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}}const X=V([{name:"",buzzKey:"Space"}]),Y=V(!1),Z=V(!1),ee=V(!0),te=V(!1),ne=V({buzzer:{state:"Closed",owner:null},scores:{},history:[],ptsworth:200});function oe(e,t){return Array.from({length:t-e+1},((e,t)=>t))}const re=new WebSocket(`ws://${window.location.host}/ws`);function se(e,t,n){var o=new Date;e=[{time:[o.getHours(),o.getMinutes()],name:t,score:n},...e]}const ce=[{code:"Space",name:"Space"},{code:"NumpadEnter",name:"Numpad Enter"},{code:"ControlLeft",name:"Left Control"},{code:"Numpad0",name:"Numpad 0"},{code:"ShiftLeft",name:"Left Shift"},{code:"ShiftRight",name:"Right Shift"},{code:"Enter",name:"Enter"},{code:"ControlRight",name:"Right Control"}];function le(e){let t;return{c(){t=m(e[1])},m(e,n){u(e,t,n)},p(e,n){2&n&&y(t,e[1])},d(e){e&&a(t)}}}function ie(e){let t,n,r,s,c;return{c(){t=f("input"),n=h(),r=f("button"),r.textContent="üû¨",b(t,"class","hidden"),b(r,"class","x")},m(o,l){u(o,t,l),$(t,e[3]),u(o,n,l),u(o,r,l),s||(c=[g(t,"input",e[8]),g(t,"blur",e[5]),g(t,"keydown",e[7]),g(r,"mousedown",e[6])],s=!0)},p(e,n){8&n&&t.value!==e[3]&&$(t,e[3])},d(e){e&&a(t),e&&a(n),e&&a(r),s=!1,o(c)}}}function ue(t){let n,o,r,s,c,l,d,g,$=t[2].history[t[0]].time[0].toString().padStart(2,"0")+"",z=t[2].history[t[0]].time[1].toString().padStart(2,"0")+"",v=t[2].history[t[0]].name+"";function k(e,t){return e[4]?ie:le}let w=k(t),x=w(t);return{c(){n=f("span"),o=m($),r=m(":"),s=m(z),c=h(),l=m(v),d=m(":\n"),x.c(),g=p(),b(n,"class","time svelte-mws1xc")},m(e,t){u(e,n,t),i(n,o),i(n,r),i(n,s),u(e,c,t),u(e,l,t),u(e,d,t),x.m(e,t),u(e,g,t)},p(e,[t]){5&t&&$!==($=e[2].history[e[0]].time[0].toString().padStart(2,"0")+"")&&y(o,$),5&t&&z!==(z=e[2].history[e[0]].time[1].toString().padStart(2,"0")+"")&&y(s,z),5&t&&v!==(v=e[2].history[e[0]].name+"")&&y(l,v),w===(w=k(e))&&x?x.p(e,t):(x.d(1),x=w(e),x&&(x.c(),x.m(g.parentNode,g)))},i:e,o:e,d(e){e&&a(n),e&&a(c),e&&a(l),e&&a(d),x.d(e),e&&a(g)}}}function ae(e,t,n){let o,r,s,l;c(e,ne,(e=>n(2,s=e))),c(e,Y,(e=>n(4,l=e)));let{thisIndex:i}=t;function u(){re.send(JSON.stringify({action:"EditHistory",index:i,score:parseInt(r)}))}return e.$$set=e=>{"thisIndex"in e&&n(0,i=e.thisIndex)},e.$$.update=()=>{5&e.$$.dirty&&n(1,o=s.history[i].score),2&e.$$.dirty&&n(3,r=o.toString())},[i,o,s,r,l,u,function(){re.send(JSON.stringify({action:"RemoveHistory",index:i}))},function(e){"Enter"===e.code&&u()},function(){r=this.value,n(3,r),n(1,o),n(2,s),n(0,i)}]}class de extends G{constructor(e){super(),F(this,e,ae,ue,s,{thisIndex:0})}}function fe(e,t,n){const o=e.slice();return o[6]=t[n],o}function me(e){let t,n;return{c(){t=f("span"),t.textContent="score history",n=f("br"),b(t,"class","header")},m(e,o){u(e,t,o),u(e,n,o)},d(e){e&&a(t),e&&a(n)}}}function he(e){let t,n;return{c(){t=f("span"),t.textContent="score history (click to edit)",n=f("br"),b(t,"class","header")},m(e,o){u(e,t,o),u(e,n,o)},d(e){e&&a(t),e&&a(n)}}}function pe(e){let t,n,o;return t=new de({props:{thisIndex:e[6]}}),{c(){U(t.$$.fragment),n=f("br")},m(e,r){W(t,e,r),u(e,n,r),o=!0},p(e,n){const o={};8&n&&(o.thisIndex=e[6]),t.$set(o)},i(e){o||(K(t.$$.fragment,e),o=!0)},o(e){R(t.$$.fragment,e),o=!1},d(e){q(t,e),e&&a(n)}}}function ge(e){let t,n,o=""===e[0]||e[3].history[e[6]].name.startsWith(e[0]),r=o&&pe(e);return{c(){r&&r.c(),t=p()},m(e,o){r&&r.m(e,o),u(e,t,o),n=!0},p(e,n){9&n&&(o=""===e[0]||e[3].history[e[6]].name.startsWith(e[0])),o?r?(r.p(e,n),9&n&&K(r,1)):(r=pe(e),r.c(),K(r,1),r.m(t.parentNode,t)):r&&(P(),R(r,1,1,(()=>{r=null})),I())},i(e){n||(K(r),n=!0)},o(e){R(r),n=!1},d(e){r&&r.d(e),e&&a(t)}}}function be(e){let t,n,r,s,c,l,i,m,p,y,v,k,w;function x(e,t){return e[2]?he:me}let N=x(e),S=N(e),C=oe(0,e[3].history.length-1),_=[];for(let t=0;t<C.length;t+=1)_[t]=ge(fe(e,C,t));const O=e=>R(_[e],1,1,(()=>{_[e]=null}));return{c(){t=f("hr"),n=h(),S.c(),r=h(),s=f("button"),s.innerHTML="‚Üê <u>b</u>ack to current scores\n",c=f("br"),l=h(),i=f("input"),m=f("br"),p=h(),y=f("div");for(let e=0;e<_.length;e+=1)_[e].c();b(i,"placeholder","filter by player name"),z(y,"text-align","right"),z(y,"display","inline-block")},m(o,a){u(o,t,a),u(o,n,a),S.m(o,a),u(o,r,a),u(o,s,a),u(o,c,a),u(o,l,a),u(o,i,a),$(i,e[0]),u(o,m,a),u(o,p,a),u(o,y,a);for(let e=0;e<_.length;e+=1)_[e].m(y,null);v=!0,k||(w=[g(s,"click",e[4]),g(i,"input",e[5])],k=!0)},p(e,[t]){if(N!==(N=x(e))&&(S.d(1),S=N(e),S&&(S.c(),S.m(r.parentNode,r))),1&t&&i.value!==e[0]&&$(i,e[0]),9&t){let n;for(C=oe(0,e[3].history.length-1),n=0;n<C.length;n+=1){const o=fe(e,C,n);_[n]?(_[n].p(o,t),K(_[n],1)):(_[n]=ge(o),_[n].c(),K(_[n],1),_[n].m(y,null))}for(P(),n=C.length;n<_.length;n+=1)O(n);I()}},i(e){if(!v){for(let e=0;e<C.length;e+=1)K(_[e]);v=!0}},o(e){_=_.filter(Boolean);for(let e=0;e<_.length;e+=1)R(_[e]);v=!1},d(e){e&&a(t),e&&a(n),S.d(e),e&&a(r),e&&a(s),e&&a(c),e&&a(l),e&&a(i),e&&a(m),e&&a(p),e&&a(y),d(_,e),k=!1,o(w)}}}function ye(e,t,n){let o,r,s;c(e,Z,(e=>n(1,o=e))),c(e,Y,(e=>n(2,r=e))),c(e,ne,(e=>n(3,s=e)));let i="";document.addEventListener("keydown",(function(e){"b"===e.key&&"INPUT"!==document.activeElement.nodeName&&l(Z,o=!1,o)}));return[i,o,r,s,()=>l(Z,o=!1,o),function(){i=this.value,n(0,i)}]}class $e extends G{constructor(e){super(),F(this,e,ye,be,s,{})}}function ze(e,t,n){const o=e.slice();return o[4]=t[n],o}function ve(t){let n,o,r,s=t[4].name+"";return{c(){n=f("option"),o=m(s),r=h(),n.__value=t[4].code,n.value=n.__value},m(e,t){u(e,n,t),i(n,o),i(n,r)},p:e,d(e){e&&a(n)}}}function ke(e){let t;return{c(){t=f("option"),t.textContent="Tap/Click",t.__value="Click",t.value=t.__value},m(e,n){u(e,t,n)},d(e){e&&a(t)}}}function we(t){let n,r,s,c,l=!t[1].some(t[2]),m=ce,h=[];for(let e=0;e<m.length;e+=1)h[e]=ve(ze(t,m,e));let b=l&&ke();return{c(){n=f("select");for(let e=0;e<h.length;e+=1)h[e].c();r=p(),b&&b.c(),void 0===t[0].buzzKey&&T((()=>t[3].call(n)))},m(e,o){u(e,n,o);for(let e=0;e<h.length;e+=1)h[e].m(n,null);i(n,r),b&&b.m(n,null),v(n,t[0].buzzKey),s||(c=[g(n,"change",t[3]),g(n,"change",xe)],s=!0)},p(e,[t]){if(0&t){let o;for(m=ce,o=0;o<m.length;o+=1){const s=ze(e,m,o);h[o]?h[o].p(s,t):(h[o]=ve(s),h[o].c(),h[o].m(n,r))}for(;o<h.length;o+=1)h[o].d(1);h.length=m.length}3&t&&(l=!e[1].some(e[2])),l?b||(b=ke(),b.c(),b.m(n,null)):b&&(b.d(1),b=null),1&t&&v(n,e[0].buzzKey)},i:e,o:e,d(e){e&&a(n),d(h,e),b&&b.d(),s=!1,o(c)}}}function xe(){document.activeElement.blur()}function Ne(e,t,n){let o;c(e,X,(e=>n(1,o=e)));let{contestant:r}=t;return e.$$set=e=>{"contestant"in e&&n(0,r=e.contestant)},[r,o,e=>e.name!==r.name&&"Click"===e.buzzKey,function(){r.buzzKey=k(this),n(0,r)}]}class Se extends G{constructor(e){super(),F(this,e,Ne,we,s,{contestant:0})}}function Ce(e,t,n){const o=e.slice();return o[4]=t[n],o[5]=t,o[6]=n,o}function _e(e){let t,n,o,r;return{c(){t=f("hr"),n=h(),o=f("span"),o.textContent="buzz keys (click to change)",r=f("br"),b(o,"class","header")},m(e,s){u(e,t,s),u(e,n,s),u(e,o,s),u(e,r,s)},d(e){e&&a(t),e&&a(n),e&&a(o),e&&a(r)}}}function Oe(e){let t,n,o,r,s,c,l=e[4].name+"";function i(t){e[3].call(null,t,e[4],e[5],e[6])}let d={};return void 0!==e[4]&&(d.contestant=e[4]),o=new Se({props:d}),S.push((()=>function(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}(o,"contestant",i))),{c(){t=m(l),n=m(":\n    "),U(o.$$.fragment),s=f("br")},m(e,r){u(e,t,r),u(e,n,r),W(o,e,r),u(e,s,r),c=!0},p(n,s){e=n,(!c||1&s)&&l!==(l=e[4].name+"")&&y(t,l);const i={};var u;!r&&1&s&&(r=!0,i.contestant=e[4],u=()=>r=!1,_.push(u)),o.$set(i)},i(e){c||(K(o.$$.fragment,e),c=!0)},o(e){R(o.$$.fragment,e),c=!1},d(e){e&&a(t),e&&a(n),q(o,e),e&&a(s)}}}function Ee(e){let t,n;return{c(){t=f("strong"),t.textContent="some players have the same buzz key\n    ",n=f("br"),z(t,"color","#ebcb8b")},m(e,o){u(e,t,o),u(e,n,o)},d(e){e&&a(t),e&&a(n)}}}function Te(e){let t,n,o,r,s=0!==e[0].length&&_e(),c=e[0],l=[];for(let t=0;t<c.length;t+=1)l[t]=Oe(Ce(e,c,t));const i=e=>R(l[e],1,1,(()=>{l[e]=null}));let f=e[1]&&Ee();return{c(){s&&s.c(),t=h();for(let e=0;e<l.length;e+=1)l[e].c();n=h(),f&&f.c(),o=p()},m(e,c){s&&s.m(e,c),u(e,t,c);for(let t=0;t<l.length;t+=1)l[t].m(e,c);u(e,n,c),f&&f.m(e,c),u(e,o,c),r=!0},p(e,[r]){if(0!==e[0].length?s||(s=_e(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),1&r){let t;for(c=e[0],t=0;t<c.length;t+=1){const o=Ce(e,c,t);l[t]?(l[t].p(o,r),K(l[t],1)):(l[t]=Oe(o),l[t].c(),K(l[t],1),l[t].m(n.parentNode,n))}for(P(),t=c.length;t<l.length;t+=1)i(t);I()}e[1]?f||(f=Ee(),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},i(e){if(!r){for(let e=0;e<c.length;e+=1)K(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)R(l[e]);r=!1},d(e){s&&s.d(e),e&&a(t),d(l,e),e&&a(n),f&&f.d(e),e&&a(o)}}}function Be(e,t,n){let o,r,s;return c(e,X,(e=>n(0,s=e))),e.$$.update=()=>{1&e.$$.dirty&&n(2,o=s.map((e=>e.buzzKey))),4&e.$$.dirty&&n(1,r=o.length!==new Set(o).size)},[s,r,o,function(e,t,n,o){n[o]=e,X.set(s)}]}class Le extends G{constructor(e){super(),F(this,e,Be,Te,s,{})}}function je(e,t,n){const o=e.slice();return o[7]=t[n],o}function He(e,t,n){const o=e.slice();return o[7]=t[n],o}function Je(e){let t,n,o=e[1],r=[];for(let t=0;t<o.length;t+=1)r[t]=Pe(He(e,o,t));let s=e[1].filter(e[6]),c=[];for(let t=0;t<s.length;t+=1)c[t]=Ie(je(e,s,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=h();for(let e=0;e<c.length;e+=1)c[e].c();n=p()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);u(e,t,o);for(let t=0;t<c.length;t+=1)c[t].m(e,o);u(e,n,o)},p(e,l){if(3&l){let n;for(o=e[1],n=0;n<o.length;n+=1){const s=He(e,o,n);r[n]?r[n].p(s,l):(r[n]=Pe(s),r[n].c(),r[n].m(t.parentNode,t))}for(;n<r.length;n+=1)r[n].d(1);r.length=o.length}if(3&l){let t;for(s=e[1].filter(e[6]),t=0;t<s.length;t+=1){const o=je(e,s,t);c[t]?c[t].p(o,l):(c[t]=Ie(o),c[t].c(),c[t].m(n.parentNode,n))}for(;t<c.length;t+=1)c[t].d(1);c.length=s.length}},d(e){d(r,e),e&&a(t),d(c,e),e&&a(n)}}}function Me(e){let t,n,o,r,s=e[7].name+"";return{c(){t=f("div"),n=f("strong"),o=m(s),r=m("\n                has already buzzed in"),z(n,"color","#ebcb8b"),z(t,"color","#ebcb8b")},m(e,s){u(e,t,s),i(t,n),i(n,o),i(t,r)},p(e,t){2&t&&s!==(s=e[7].name+"")&&y(o,s)},d(e){e&&a(t)}}}function Pe(e){let t,n=e[0].scores[e[7].name].blocked&&Me(e);return{c(){n&&n.c(),t=p()},m(e,o){n&&n.m(e,o),u(e,t,o)},p(e,o){e[0].scores[e[7].name].blocked?n?n.p(e,o):(n=Me(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&a(t)}}}function Ie(e){let t,n,o,r,s,c=e[7].name+"";return{c(){t=f("strong"),n=m(c),o=m(","),r=h(),s=f("span"),s.textContent="click or tap anywhere to buzz in",z(t,"color","#a3be8c"),z(s,"color","#a3be8c")},m(e,c){u(e,t,c),i(t,n),i(t,o),u(e,r,c),u(e,s,c)},p(e,t){3&t&&c!==(c=e[7].name+"")&&y(n,c)},d(e){e&&a(t),e&&a(r),e&&a(s)}}}function Ke(e){let t,n,o,r,s,c,l,d=e[0].ptsworth+"";return{c(){t=f("br"),n=h(),o=f("span"),r=m("for "),s=f("strong"),c=m(d),l=m(" points"),b(o,"id","ptsworth")},m(e,a){u(e,t,a),u(e,n,a),u(e,o,a),i(o,r),i(o,s),i(s,c),i(o,l)},p(e,t){1&t&&d!==(d=e[0].ptsworth+"")&&y(c,d)},d(e){e&&a(t),e&&a(n),e&&a(o)}}}function Re(t){let n,o,r,s,c,l,d,g,$,z="Open"===t[0].buzzer.state&&Je(t),v=!t[4]&&Ke(t);return{c(){n=f("div"),r=h(),s=f("div"),c=m(t[3]),d=h(),z&&z.c(),g=h(),v&&v.c(),$=p(),b(n,"id","topbar"),b(n,"style",o=`background-color:#${t[2]}`),b(n,"class","svelte-1ouoi4x"),b(s,"id","state"),b(s,"style",l=`color:#${t[2]}`),b(s,"class","svelte-1ouoi4x")},m(e,t){u(e,n,t),u(e,r,t),u(e,s,t),i(s,c),u(e,d,t),z&&z.m(e,t),u(e,g,t),v&&v.m(e,t),u(e,$,t)},p(e,[t]){4&t&&o!==(o=`background-color:#${e[2]}`)&&b(n,"style",o),8&t&&y(c,e[3]),4&t&&l!==(l=`color:#${e[2]}`)&&b(s,"style",l),"Open"===e[0].buzzer.state?z?z.p(e,t):(z=Je(e),z.c(),z.m(g.parentNode,g)):z&&(z.d(1),z=null),e[4]?v&&(v.d(1),v=null):v?v.p(e,t):(v=Ke(e),v.c(),v.m($.parentNode,$))},i:e,o:e,d(e){e&&a(n),e&&a(r),e&&a(s),e&&a(d),z&&z.d(e),e&&a(g),v&&v.d(e),e&&a($)}}}function Ae(e,t,n){let o,r,s,l,i,u;c(e,te,(e=>n(5,o=e))),c(e,ne,(e=>n(0,r=e))),c(e,X,(e=>n(1,s=e))),c(e,Y,(e=>n(4,l=e)));return e.$$.update=()=>{35&e.$$.dirty&&(o?(n(2,i="d08770"),n(3,u="couldn't reach server")):"Closed"==r.buzzer.state?(n(2,i="bf616a"),n(3,u="the buzzer is closed")):"Open"==r.buzzer.state?(n(2,i=s.every((e=>r.scores[e.name].blocked))&&0!==s.length?"ebcb8b":"a3be8c"),n(3,u="the buzzer is open")):"TakenBy"==r.buzzer.state&&(n(2,i=s.some((e=>e.name===r.buzzer.owner))?"88c0d0":"bf616a"),n(3,u=`${r.buzzer.owner} has buzzed in`)))},[r,s,i,u,l,o,e=>"Click"===e.buzzKey&&!r.scores[e.name].blocked]}class Ue extends G{constructor(e){super(),F(this,e,Ae,Re,s,{})}}function We(e){let t,n;return{c(){t=f("span"),n=m(e[1]),b(t,"style",e[3])},m(e,o){u(e,t,o),i(t,n)},p(e,o){2&o&&y(n,e[1]),8&o&&b(t,"style",e[3])},d(e){e&&a(t)}}}function qe(e){let t,n,r,s,c;return{c(){t=f("input"),n=h(),r=f("button"),r.textContent="üû¨",b(t,"class","hidden"),b(t,"style",e[3]),b(r,"class","x")},m(o,l){u(o,t,l),$(t,e[2]),u(o,n,l),u(o,r,l),s||(c=[g(t,"input",e[12]),g(t,"focusout",e[5]),g(t,"keydown",e[7]),g(r,"mousedown",e[6])],s=!0)},p(e,n){8&n&&b(t,"style",e[3]),4&n&&t.value!==e[2]&&$(t,e[2])},d(e){e&&a(t),e&&a(n),e&&a(r),s=!1,o(c)}}}function De(t){let n,o,r,s,c,l;function d(e,t){return e[4]?qe:We}let p=d(t),g=p(t);return{c(){n=f("span"),o=m(t[0]),r=m(":"),s=h(),g.c(),c=h(),l=f("br"),b(n,"style",t[3])},m(e,t){u(e,n,t),i(n,o),i(n,r),u(e,s,t),g.m(e,t),u(e,c,t),u(e,l,t)},p(e,[t]){1&t&&y(o,e[0]),8&t&&b(n,"style",e[3]),p===(p=d(e))&&g?g.p(e,t):(g.d(1),g=p(e),g&&(g.c(),g.m(c.parentNode,c)))},i:e,o:e,d(e){e&&a(n),e&&a(s),g.d(e),e&&a(c),e&&a(l)}}}function Fe(e,t,n){let o,r,s,l,i,u;c(e,ne,(e=>n(9,l=e))),c(e,X,(e=>n(10,i=e))),c(e,Y,(e=>n(4,u=e)));let{thisName:a}=t,{thisScore:d}=t,f="eceff4";function m(){re.send(JSON.stringify({action:"SetScore",name:a,score:parseInt(o)}))}return e.$$set=e=>{"thisName"in e&&n(0,a=e.thisName),"thisScore"in e&&n(1,d=e.thisScore)},e.$$.update=()=>{2&e.$$.dirty&&n(2,o=d.toString()),1537&e.$$.dirty&&(Object.entries(l.scores).some((e=>e[0]===a&&e[1].blocked))?n(8,f="ebcb8b"):i.some((e=>e.name===a))?n(8,f="88c0d0"):n(8,f="eceff4")),1025&e.$$.dirty&&n(11,r=i.some((e=>e.name===a))?"bold":"normal"),2304&e.$$.dirty&&n(3,s=`color:#${f};font-weight:${r}`)},[a,d,o,s,u,m,function(){re.send(JSON.stringify({action:"RemovePlayer",name:a}))},function(e){"Enter"==e.code&&m()},f,l,i,r,function(){o=this.value,n(2,o),n(1,d)}]}class Ge extends G{constructor(e){super(),F(this,e,Fe,De,s,{thisName:0,thisScore:1})}}function Qe(e,t,n){const o=e.slice();return o[4]=t[n],o}function Ve(e){let t,n;return{c(){t=f("span"),t.textContent="scores",n=f("br"),b(t,"class","header")},m(e,o){u(e,t,o),u(e,n,o)},d(e){e&&a(t),e&&a(n)}}}function Xe(e){let t,n;return{c(){t=f("span"),t.textContent="scores (click to edit)",n=f("br"),b(t,"class","header")},m(e,o){u(e,t,o),u(e,n,o)},d(e){e&&a(t),e&&a(n)}}}function Ye(e,t){let n,o,r;return o=new Ge({props:{thisName:t[4][0],thisScore:t[4][1].score}}),{key:e,first:null,c(){n=p(),U(o.$$.fragment),this.first=n},m(e,t){u(e,n,t),W(o,e,t),r=!0},p(e,n){t=e;const r={};4&n&&(r.thisName=t[4][0]),4&n&&(r.thisScore=t[4][1].score),o.$set(r)},i(e){r||(K(o.$$.fragment,e),r=!0)},o(e){R(o.$$.fragment,e),r=!1},d(e){e&&a(n),q(o,e)}}}function Ze(e){let t,n,o,r,s,c,l,i,d,m,p,b=[],y=new Map;function $(e,t){return e[1]?Xe:Ve}let v=$(e),k=v(e),w=Object.entries(e[2].scores).sort(et).reverse();const x=e=>e[4][0];for(let t=0;t<w.length;t+=1){let n=Qe(e,w,t),o=x(n);y.set(o,b[t]=Ye(o,n))}return{c(){t=f("hr"),n=h(),k.c(),o=h(),r=f("button"),r.innerHTML="view score <u>h</u>istory",s=h(),c=f("br"),l=h(),i=f("div");for(let e=0;e<b.length;e+=1)b[e].c();z(i,"text-align","right"),z(i,"display","inline-block")},m(a,f){u(a,t,f),u(a,n,f),k.m(a,f),u(a,o,f),u(a,r,f),u(a,s,f),u(a,c,f),u(a,l,f),u(a,i,f);for(let e=0;e<b.length;e+=1)b[e].m(i,null);d=!0,m||(p=g(r,"click",e[3]),m=!0)},p(e,[t]){v!==(v=$(e))&&(k.d(1),k=v(e),k&&(k.c(),k.m(o.parentNode,o))),4&t&&(w=Object.entries(e[2].scores).sort(et).reverse(),P(),b=function(e,t,n,o,r,s,c,l,i,u,a,d){let f=e.length,m=s.length,h=f;const p={};for(;h--;)p[e[h].key]=h;const g=[],b=new Map,y=new Map;for(h=m;h--;){const e=d(r,s,h),l=n(e);let i=c.get(l);i?o&&i.p(e,t):(i=u(l,e),i.c()),b.set(l,g[h]=i),l in p&&y.set(l,Math.abs(h-p[l]))}const $=new Set,z=new Set;function v(e){K(e,1),e.m(l,a),c.set(e.key,e),a=e.first,m--}for(;f&&m;){const t=g[m-1],n=e[f-1],o=t.key,r=n.key;t===n?(a=t.first,f--,m--):b.has(r)?!c.has(o)||$.has(o)?v(t):z.has(r)?f--:y.get(o)>y.get(r)?(z.add(o),v(t)):($.add(r),f--):(i(n,c),f--)}for(;f--;){const t=e[f];b.has(t.key)||i(t,c)}for(;m;)v(g[m-1]);return g}(b,t,x,1,e,w,y,i,A,Ye,null,Qe),I())},i(e){if(!d){for(let e=0;e<w.length;e+=1)K(b[e]);d=!0}},o(e){for(let e=0;e<b.length;e+=1)R(b[e]);d=!1},d(e){e&&a(t),e&&a(n),k.d(e),e&&a(o),e&&a(r),e&&a(s),e&&a(c),e&&a(l),e&&a(i);for(let e=0;e<b.length;e+=1)b[e].d();m=!1,p()}}}const et=(e,t)=>e[1].score-t[1].score;function tt(e,t,n){let o,r,s;c(e,Z,(e=>n(0,o=e))),c(e,Y,(e=>n(1,r=e))),c(e,ne,(e=>n(2,s=e))),document.addEventListener("keydown",(function(e){"h"===e.key&&l(Z,o=!0,o)}));return[o,r,s,()=>l(Z,o=!0,o)]}class nt extends G{constructor(e){super(),F(this,e,tt,Ze,s,{})}}function ot(e,t,n){const o=e.slice();return o[13]=t[n],o}function rt(e){let t,n,o,r=e[13]+"";return{c(){t=f("option"),n=m(r),t.__value=o=e[13],t.value=t.__value},m(e,o){u(e,t,o),i(t,n)},p(e,s){2&s&&r!==(r=e[13]+"")&&y(n,r),2&s&&o!==(o=e[13])&&(t.__value=o,t.value=t.__value)},d(e){e&&a(t)}}}function st(e){let t,n,r,s,c,l,d,p,b,$,z=e[3].buzzer.owner+"";return{c(){t=m("is "),n=f("strong"),r=m(z),s=h(),c=f("button"),c.innerHTML="<u>c</u>orrect",l=m(" or\n    "),d=f("button"),d.innerHTML="<u>i</u>ncorrect",p=m("?")},m(o,a){u(o,t,a),u(o,n,a),i(n,r),u(o,s,a),u(o,c,a),u(o,l,a),u(o,d,a),u(o,p,a),b||($=[g(c,"mousedown",e[9]),g(d,"mousedown",e[10])],b=!0)},p(e,t){8&t&&z!==(z=e[3].buzzer.owner+"")&&y(r,z)},d(e){e&&a(t),e&&a(n),e&&a(s),e&&a(c),e&&a(l),e&&a(d),e&&a(p),b=!1,o($)}}}function ct(t){let n,o,r;return{c(){n=f("button"),n.innerHTML="<u>o</u>pen buzzer",b(n,"class","large")},m(e,s){u(e,n,s),o||(r=g(n,"mousedown",t[10]),o=!0)},p:e,d(e){e&&a(n),o=!1,r()}}}function lt(t){let n,o,r;return{c(){n=f("button"),n.innerHTML="<u>e</u>nd round early",b(n,"class","large")},m(e,s){u(e,n,s),o||(r=g(n,"mousedown",t[8]),o=!0)},p:e,d(e){e&&a(n),o=!1,r()}}}function it(t){let n,r,s,c,l,$,z,k,w,x,N,S,C,_,O,E,B,L,j,H,J,M,P,I,K,R,A,U,W=t[1]?"‚òë":"‚òê",q=t[1]?t[5]:t[4],D=[];for(let e=0;e<q.length;e+=1)D[e]=rt(ot(t,q,e));function F(e,t){return"Open"===e[3].buzzer.state?lt:"Closed"===e[3].buzzer.state?ct:"TakenBy"===e[3].buzzer.state?st:void 0}let G=F(t),Q=G&&G(t);return{c(){n=f("hr"),r=h(),s=f("span"),s.textContent="host commands",c=f("br"),l=m("\n\npoints worth:\n\n"),$=f("select");for(let e=0;e<D.length;e+=1)D[e].c();z=h(),k=f("button"),w=f("u"),w.textContent="+",N=h(),S=f("button"),C=f("u"),C.textContent="-",O=h(),E=f("br"),B=h(),L=f("button"),j=m(W),H=h(),J=f("u"),J.textContent="d",M=m("ouble Jeopardy!"),P=h(),I=f("br"),K=h(),Q&&Q.c(),R=p(),b(s,"class","header"),b($,"type","number"),void 0===t[2]&&T((()=>t[11].call($))),k.disabled=x=t[0]>3,S.disabled=_=t[0]<1},m(e,o){u(e,n,o),u(e,r,o),u(e,s,o),u(e,c,o),u(e,l,o),u(e,$,o);for(let e=0;e<D.length;e+=1)D[e].m($,null);v($,t[2]),u(e,z,o),u(e,k,o),i(k,w),u(e,N,o),u(e,S,o),i(S,C),u(e,O,o),u(e,E,o),u(e,B,o),u(e,L,o),i(L,j),i(L,H),i(L,J),i(L,M),u(e,P,o),u(e,I,o),u(e,K,o),Q&&Q.m(e,o),u(e,R,o),A||(U=[g($,"change",t[11]),g(k,"mousedown",t[6]),g(S,"mousedown",t[7]),g(L,"mousedown",t[12])],A=!0)},p(e,[t]){if(50&t){let n;for(q=e[1]?e[5]:e[4],n=0;n<q.length;n+=1){const o=ot(e,q,n);D[n]?D[n].p(o,t):(D[n]=rt(o),D[n].c(),D[n].m($,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=q.length}54&t&&v($,e[2]),1&t&&x!==(x=e[0]>3)&&(k.disabled=x),1&t&&_!==(_=e[0]<1)&&(S.disabled=_),2&t&&W!==(W=e[1]?"‚òë":"‚òê")&&y(j,W),G===(G=F(e))&&Q?Q.p(e,t):(Q&&Q.d(1),Q=G&&G(e),Q&&(Q.c(),Q.m(R.parentNode,R)))},i:e,o:e,d(e){e&&a(n),e&&a(r),e&&a(s),e&&a(c),e&&a(l),e&&a($),d(D,e),e&&a(z),e&&a(k),e&&a(N),e&&a(S),e&&a(O),e&&a(E),e&&a(B),e&&a(L),e&&a(P),e&&a(I),e&&a(K),Q&&Q.d(e),e&&a(R),A=!1,o(U)}}}function ut(e,t,n){let o,r;c(e,ne,(e=>n(3,r=e)));const s=[200,400,600,800,1e3],l=[400,800,1200,1600,2e3];let i=0,u=!1;function a(){n(0,i++,i),n(0,i%=5)}function d(){n(0,i--,i)}function f(){re.send(JSON.stringify({action:"EndRound"})),a()}function m(){re.send(JSON.stringify({action:"OwnerCorrect"}))}function h(){Object.entries(r.scores).every((e=>e[1].blocked))&&a(),re.send(JSON.stringify({action:"OpenBuzzer"}))}document.addEventListener("keydown",(function(e){"INPUT"!==document.activeElement.nodeName&&("Open"===r.buzzer.state&&"e"===e.key?f():"Closed"===r.buzzer.state&&"o"===e.key?h():"TakenBy"===r.buzzer.state&&"c"===e.key?m():"TakenBy"===r.buzzer.state&&"i"===e.key?h():"d"===e.key?(n(1,u=!u),n(0,i=0)):"+"===e.key&&i<4?a():"-"===e.key&&i>0&&d())}));return e.$$.update=()=>{3&e.$$.dirty&&n(2,o=u?l[i]:s[i]),4&e.$$.dirty&&re.send(JSON.stringify({action:"SetPtsWorth",pts:o}))},[i,u,o,r,s,l,a,d,f,m,h,function(){o=k(this),n(2,o),n(1,u),n(0,i),n(1,u),n(5,l),n(4,s)},()=>{n(1,u=!u),n(0,i=0)}]}class at extends G{constructor(e){super(),F(this,e,ut,it,s,{})}}function dt(e,t,n){const o=e.slice();return o[11]=t[n],o[12]=t,o[13]=n,o}function ft(e){let t,n,o,r,s;function c(){e[7].call(t,e[12],e[13])}return{c(){t=f("input"),n=h(),o=f("br"),b(t,"placeholder","enter your name")},m(l,i){u(l,t,i),$(t,e[11].name),u(l,n,i),u(l,o,i),r||(s=g(t,"input",c),r=!0)},p(n,o){e=n,1&o&&t.value!==e[11].name&&$(t,e[11].name)},d(e){e&&a(t),e&&a(n),e&&a(o),r=!1,s()}}}function mt(e){let t,n;return{c(){t=f("br"),n=f("strong"),n.textContent="some of these names are taken",b(n,"id","dup"),b(n,"class","svelte-1ge8e94")},m(e,o){u(e,t,o),u(e,n,o)},d(e){e&&a(t),e&&a(n)}}}function ht(t){let n,r,s,c,l,p,$,v,k,w,x,N,S,C,_,O,E,T,B,L,j,H,J,M,P,I,K,R,A,U=t[2]?"‚òë":"‚òê",W=t[0],q=[];for(let e=0;e<W.length;e+=1)q[e]=ft(dt(t,W,e));let D=t[1]&&mt();return{c(){n=m("contestant(s), enter your name(s)"),r=f("br"),s=h(),c=f("strong"),c.textContent="hosts do not need to enter their names",l=h(),p=f("hr"),$=h();for(let e=0;e<q.length;e+=1)q[e].c();v=h(),k=f("button"),k.textContent="add contestant",w=h(),x=f("button"),N=m("remove contestant"),C=h(),D&&D.c(),_=h(),O=f("hr"),E=m("\ndoes this device need host access?"),T=f("br"),B=h(),L=f("button"),j=m(U),H=m("\n    host access"),J=h(),M=f("hr"),P=h(),I=f("button"),K=m("play"),z(c,"color","#88c0d0"),x.disabled=S=0===t[0].length,b(I,"class","large"),I.disabled=t[1]},m(e,o){u(e,n,o),u(e,r,o),u(e,s,o),u(e,c,o),u(e,l,o),u(e,p,o),u(e,$,o);for(let t=0;t<q.length;t+=1)q[t].m(e,o);u(e,v,o),u(e,k,o),u(e,w,o),u(e,x,o),i(x,N),u(e,C,o),D&&D.m(e,o),u(e,_,o),u(e,O,o),u(e,E,o),u(e,T,o),u(e,B,o),u(e,L,o),i(L,j),i(L,H),u(e,J,o),u(e,M,o),u(e,P,o),u(e,I,o),i(I,K),R||(A=[g(k,"mousedown",t[3]),g(x,"mousedown",t[4]),g(L,"mousedown",t[8]),g(I,"mousedown",t[5])],R=!0)},p(e,[t]){if(1&t){let n;for(W=e[0],n=0;n<W.length;n+=1){const o=dt(e,W,n);q[n]?q[n].p(o,t):(q[n]=ft(o),q[n].c(),q[n].m(v.parentNode,v))}for(;n<q.length;n+=1)q[n].d(1);q.length=W.length}1&t&&S!==(S=0===e[0].length)&&(x.disabled=S),e[1]?D||(D=mt(),D.c(),D.m(_.parentNode,_)):D&&(D.d(1),D=null),4&t&&U!==(U=e[2]?"‚òë":"‚òê")&&y(j,U),2&t&&(I.disabled=e[1])},i:e,o:e,d(e){e&&a(n),e&&a(r),e&&a(s),e&&a(c),e&&a(l),e&&a(p),e&&a($),d(q,e),e&&a(v),e&&a(k),e&&a(w),e&&a(x),e&&a(C),D&&D.d(e),e&&a(_),e&&a(O),e&&a(E),e&&a(T),e&&a(B),e&&a(L),e&&a(J),e&&a(M),e&&a(P),e&&a(I),R=!1,o(A)}}}function pt(e,t,n){let o,r,s,i,u;c(e,X,(e=>n(0,r=e))),c(e,ee,(e=>n(10,s=e))),c(e,ne,(e=>n(6,i=e))),c(e,Y,(e=>n(2,u=e)));let a=r.length;return e.$$.update=()=>{65&e.$$.dirty&&n(1,o=r.some((e=>Object.entries(i.scores).some((t=>t[0]===e.name)))))},[r,o,u,function(){l(X,r=[...r,{name:"",buzzKey:ce[a].code}],r),a++},function(){r.pop(),X.set(r),a--},function(){for(var e of r)e.name=e.name.trim();l(X,r=r.filter((e=>!!e.name)),r);for(const e of r)re.send(JSON.stringify({action:"AddPlayer",name:e.name}));l(ee,s=!1,s)},i,function(e,t){e[t].name=this.value,X.set(r)},()=>l(Y,u=!u,u)]}class gt extends G{constructor(e){super(),F(this,e,pt,ht,s,{})}}function bt(e){let t,n,o,r,s,c,l,i,d;t=new Ue({}),o=new Le({});let f=e[1]&&$t();const m=[vt,zt],g=[];function b(e,t){return e[2]?0:1}return c=b(e),l=g[c]=m[c](e),{c(){U(t.$$.fragment),n=h(),U(o.$$.fragment),r=h(),f&&f.c(),s=h(),l.c(),i=p()},m(e,l){W(t,e,l),u(e,n,l),W(o,e,l),u(e,r,l),f&&f.m(e,l),u(e,s,l),g[c].m(e,l),u(e,i,l),d=!0},p(e,t){e[1]?f?2&t&&K(f,1):(f=$t(),f.c(),K(f,1),f.m(s.parentNode,s)):f&&(P(),R(f,1,1,(()=>{f=null})),I());let n=c;c=b(e),c!==n&&(P(),R(g[n],1,1,(()=>{g[n]=null})),I(),l=g[c],l||(l=g[c]=m[c](e),l.c()),K(l,1),l.m(i.parentNode,i))},i(e){d||(K(t.$$.fragment,e),K(o.$$.fragment,e),K(f),K(l),d=!0)},o(e){R(t.$$.fragment,e),R(o.$$.fragment,e),R(f),R(l),d=!1},d(e){q(t,e),e&&a(n),q(o,e),e&&a(r),f&&f.d(e),e&&a(s),g[c].d(e),e&&a(i)}}}function yt(t){let n,o;return n=new gt({}),{c(){U(n.$$.fragment)},m(e,t){W(n,e,t),o=!0},p:e,i(e){o||(K(n.$$.fragment,e),o=!0)},o(e){R(n.$$.fragment,e),o=!1},d(e){q(n,e)}}}function $t(e){let t,n;return t=new at({}),{c(){U(t.$$.fragment)},m(e,o){W(t,e,o),n=!0},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function zt(e){let t,n;return t=new nt({}),{c(){U(t.$$.fragment)},m(e,o){W(t,e,o),n=!0},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function vt(e){let t,n;return t=new $e({}),{c(){U(t.$$.fragment)},m(e,o){W(t,e,o),n=!0},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function kt(e){let t,n,r,s,c,l,i;const d=[yt,bt],m=[];function p(e,t){return e[0]?0:1}return t=p(e),n=m[t]=d[t](e),{c(){n.c(),r=h(),s=f("div"),s.textContent="v4.0.0-dev.5",b(s,"id","footer"),b(s,"class","svelte-1uqki10")},m(n,o){m[t].m(n,o),u(n,r,o),u(n,s,o),c=!0,l||(i=[g(window,"mousedown",e[3]),g(window,"keydown",e[4])],l=!0)},p(e,[o]){let s=t;t=p(e),t===s?m[t].p(e,o):(P(),R(m[s],1,1,(()=>{m[s]=null})),I(),n=m[t],n?n.p(e,o):(n=m[t]=d[t](e),n.c()),K(n,1),n.m(r.parentNode,r))},i(e){c||(K(n),c=!0)},o(e){R(n),c=!1},d(e){m[t].d(e),e&&a(r),e&&a(s),l=!1,o(i)}}}function wt(e,t,n){let o,r,s,i,u,a;function d(e){o.scores[e.name].blocked||re.send(JSON.stringify({action:"Buzz",name:e.name}))}return c(e,ne,(e=>n(6,o=e))),c(e,te,(e=>n(7,r=e))),c(e,X,(e=>n(8,s=e))),c(e,ee,(e=>n(0,i=e))),c(e,Y,(e=>n(1,u=e))),c(e,Z,(e=>n(2,a=e))),re.onmessage=function(e){let t=JSON.parse(e.data),n=t.action;if("AddScore"===n){let e=o.scores[t.name];e.score+=t.score,se(o.history,t.name,e.score)}else if("SetScore"===n){let e=o.scores[t.name];e.score=t.score,se(o.history,t.name,e.score)}else if("EndRound"===n){for(var r of Object.entries(o.scores))r[1].blocked=!1;l(ne,o.buzzer.state="Closed",o)}else if("OpenBuzzer"===n)Object.values(o.scores).every((e=>e.blocked))?(l(ne,o.buzzer.state="Closed",o),Object.values(o.scores).map((e=>e.blocked=!1))):l(ne,o.buzzer.state="Open",o);else if("AddPlayer"===n){let e=o.history.find((e=>e.name===t.name)),n=void 0===e?0:e.score;l(ne,o.scores[t.name]={score:n,blocked:!1},o),se(o.history,t.name,n)}else if("RemovePlayer"===n)delete o.scores[t.name];else if("ClearPlayers"===n)l(ne,o.scores={},o);else if("ClearBlocked"===n)Object.values(o.scores).map((e=>e.blocked=!1));else if("Block"===n)l(ne,o.scores[t.name].blocked=!0,o);else if("Unblock"===n)l(ne,o.scores[t.name].blocked=!1,o);else if("CloseBuzzer"===n)l(ne,o.buzzer.state="Closed",o);else if("EditHistory"===n){let e=o.history[t.index],n=t.score-e.score;l(ne,o.scores[e.name].score+=n,o);for(const r of oe(0,t.index))o.history[r].name===e.name&&l(ne,o.history[r].score+=n,o)}else if("RemoveHistory"===n){let e=o.history[t.index],n=o.history.slice(-t.index-1).find((t=>t.name===e.name)).score;void 0===n&&(n=0);let r=e.score-n;l(ne,o.scores[e.name].score-=r,o),delete o.history[t.index];for(const n of oe(0,t.index-1))o.history[n].name===e.name&&l(ne,o.history[n].score-=r,o)}else if("ClearHistory"===n)l(ne,o.history=[],o);else if("SetPtsWorth"===n)l(ne,o.ptsworth=t.pts,o);else if("OwnerCorrect"===n){let e=o.scores[o.buzzer.owner];e.score+=o.ptsworth,se(o.history,o.buzzer.owner,e.score),Object.values(o.scores).map((e=>e.blocked=!1)),l(ne,o.buzzer.state="Closed",o)}else"SetState"===n?l(ne,o=t.state,o):"Buzz"===n&&(l(ne,o.scores[t.name].blocked=!0,o),l(ne,o.buzzer={state:"TakenBy",owner:t.name},o))},re.onclose=function(){l(te,r=!0,r)},[i,u,a,function(e){let t=e.target,n=e.srcElement,o=["INPUT","BUTTON","SELECT"];if(!o.includes(t.tagName)&&!o.includes(n.tagName))for(const e of s)"Click"===e.buzzKey&&d(e)},function(e){for(const t of s)t.buzzKey===e.code&&d(t)}]}return new class extends G{constructor(e){super(),F(this,e,wt,kt,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
