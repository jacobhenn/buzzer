var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function s(t,e,n=e){return t.set(n),e}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function h(){return m(" ")}function p(){return m("")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function y(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function _(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function x(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let w;function z(t){w=t}const k=[],C=[],S=[],N=[],E=Promise.resolve();let O=!1;function K(t){S.push(t)}let T=!1;const P=new Set;function A(){if(!T){T=!0;do{for(let t=0;t<k.length;t+=1){const e=k[t];z(e),j(e.$$)}for(z(null),k.length=0;C.length;)C.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];P.has(e)||(P.add(e),e())}S.length=0}while(k.length);for(;N.length;)N.pop()();O=!1,T=!1,P.clear()}}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}const B=new Set;let L;function M(){L={r:0,c:[],p:L}}function q(){L.r||o(L.c),L=L.p}function I(t,e){t&&t.i&&(B.delete(t),t.i(e))}function R(t,e,n,o){if(t&&t.o){if(B.has(t))return;B.add(t),L.c.push((()=>{B.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function J(t,e){R(t,1,1,(()=>{e.delete(t.key)}))}function D(t){t&&t.c()}function F(t,n,c){const{fragment:u,on_mount:s,on_destroy:l,after_update:a}=t.$$;u&&u.m(n,c),K((()=>{const n=s.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(K)}function G(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(k.push(t),O||(O=!0,E.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,r,c,u,s,l,a=[-1]){const f=w;z(e);const d=r.props||{},m=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let h=!1;if(m.ctx=c?c(e,d,((t,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&s(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),h&&H(e,t)),n})):[],m.update(),h=!0,o(m.before_update),m.fragment=!!u&&u(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(i)}else m.fragment&&m.fragment.c();r.intro&&I(e.$$.fragment),F(e,r.target,r.anchor),A()}z(f)}class U{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const V=[];function W(e,n=t){let o;const r=[];function u(t){if(c(e,t)&&(e=t,o)){const t=!V.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),V.push(n,e)}if(t){for(let t=0;t<V.length;t+=2)V[t][0](V[t+1]);V.length=0}}}return{set:u,update:function(t){u(t(e))},subscribe:function(c,s=t){const l=[c,s];return r.push(l),1===r.length&&(o=n(u)||t),c(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const X=W([{name:"",blocked:!1,buzzKey:"Space"}]),Y=W({state:"Closed",owner:null}),Z=W(!0),tt=W([]),et=W(200),nt=W(!1);async function ot(t){let e=await fetch(t);return await e.json()}function rt(t,e){fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}const ct=[{code:"Space",name:"Space"},{code:"NumpadEnter",name:"Numpad Enter"},{code:"Numpad0",name:"Numpad 0"},{code:"ShiftRight",name:"Right Shift"},{code:"Enter",name:"Enter"},{code:"ShiftLeft",name:"Left Shift"}];function ut(t,e,n){const o=t.slice();return o[2]=e[n],o}function st(e){let n,o,r=e[2].name+"";return{c(){n=d("option"),o=m(r),n.__value=e[2].code,n.value=n.__value},m(t,e){a(t,n,e),l(n,o)},p:t,d(t){t&&i(n)}}}function lt(e){let n,o,r,c=ct,u=[];for(let t=0;t<c.length;t+=1)u[t]=st(ut(e,c,t));return{c(){n=d("select");for(let t=0;t<u.length;t+=1)u[t].c();void 0===e[0].buzzKey&&K((()=>e[1].call(n)))},m(t,c){a(t,n,c);for(let t=0;t<u.length;t+=1)u[t].m(n,null);_(n,e[0].buzzKey),o||(r=g(n,"change",e[1]),o=!0)},p(t,[e]){if(0&e){let o;for(c=ct,o=0;o<c.length;o+=1){const r=ut(t,c,o);u[o]?u[o].p(r,e):(u[o]=st(r),u[o].c(),u[o].m(n,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=c.length}1&e&&_(n,t[0].buzzKey)},i:t,o:t,d(t){t&&i(n),f(u,t),o=!1,r()}}}function at(t,e,n){let{contestant:o}=e;return document.addEventListener("keydown",(function(t){var e;t.code!==o.buzzKey||o.blocked||(e=o.name,fetch("/buzz",{method:"POST",headers:{"Content-Type":"text/plain"},body:e}))})),t.$$set=t=>{"contestant"in t&&n(0,o=t.contestant)},[o,function(){o.buzzKey=x(this),n(0,o)}]}class it extends U{constructor(t){super(),Q(this,t,at,lt,c,{contestant:0})}}function ft(t,e,n){const o=t.slice();return o[4]=e[n],o[5]=e,o[6]=n,o}function dt(t){let e,n,o,r;return{c(){e=d("hr"),n=h(),o=d("span"),o.textContent="buzz keys (click to change)",r=d("br"),$(o,"class","header")},m(t,c){a(t,e,c),a(t,n,c),a(t,o,c),a(t,r,c)},d(t){t&&i(e),t&&i(n),t&&i(o),t&&i(r)}}}function mt(t){let e,n,o,r,c,u,s=t[4].name+"";function l(e){t[3].call(null,e,t[4],t[5],t[6])}let f={};return void 0!==t[4]&&(f.contestant=t[4]),o=new it({props:f}),C.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(o,"contestant",l))),{c(){e=m(s),n=m(":\n    "),D(o.$$.fragment),c=d("br")},m(t,r){a(t,e,r),a(t,n,r),F(o,t,r),a(t,c,r),u=!0},p(n,c){t=n,(!u||1&c)&&s!==(s=t[4].name+"")&&b(e,s);const l={};var a;!r&&1&c&&(r=!0,l.contestant=t[4],a=()=>r=!1,N.push(a)),o.$set(l)},i(t){u||(I(o.$$.fragment,t),u=!0)},o(t){R(o.$$.fragment,t),u=!1},d(t){t&&i(e),t&&i(n),G(o,t),t&&i(c)}}}function ht(t){let e,n;return{c(){e=d("strong"),e.textContent="some players have the same buzz key\n    ",n=d("br"),y(e,"color","#ebcb8b")},m(t,o){a(t,e,o),a(t,n,o)},d(t){t&&i(e),t&&i(n)}}}function pt(t){let e,n,o,r,c=0!==t[0].length&&dt(),u=t[0],s=[];for(let e=0;e<u.length;e+=1)s[e]=mt(ft(t,u,e));const l=t=>R(s[t],1,1,(()=>{s[t]=null}));let d=t[1]&&ht();return{c(){c&&c.c(),e=h();for(let t=0;t<s.length;t+=1)s[t].c();n=h(),d&&d.c(),o=p()},m(t,u){c&&c.m(t,u),a(t,e,u);for(let e=0;e<s.length;e+=1)s[e].m(t,u);a(t,n,u),d&&d.m(t,u),a(t,o,u),r=!0},p(t,[r]){if(0!==t[0].length?c||(c=dt(),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),1&r){let e;for(u=t[0],e=0;e<u.length;e+=1){const o=ft(t,u,e);s[e]?(s[e].p(o,r),I(s[e],1)):(s[e]=mt(o),s[e].c(),I(s[e],1),s[e].m(n.parentNode,n))}for(M(),e=u.length;e<s.length;e+=1)l(e);q()}t[1]?d||(d=ht(),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null)},i(t){if(!r){for(let t=0;t<u.length;t+=1)I(s[t]);r=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)R(s[t]);r=!1},d(t){c&&c.d(t),t&&i(e),f(s,t),t&&i(n),d&&d.d(t),t&&i(o)}}}function gt(t,e,n){let o,r,c;return u(t,X,(t=>n(0,c=t))),t.$$.update=()=>{1&t.$$.dirty&&n(2,o=c.map((t=>t.buzzKey))),4&t.$$.dirty&&n(1,r=o.length!==new Set(o).size),4&t.$$.dirty&&console.table(o)},[c,r,o,function(t,e,n,o){n[o]=t,X.set(c)}]}class $t extends U{constructor(t){super(),Q(this,t,gt,pt,c,{})}}function bt(t,e,n){const o=t.slice();return o[4]=e[n],o}function vt(t){let e,n=t[1],o=[];for(let e=0;e<n.length;e+=1)o[e]=_t(bt(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=p()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);a(t,e,n)},p(t,r){if(2&r){let c;for(n=t[1],c=0;c<n.length;c+=1){const u=bt(t,n,c);o[c]?o[c].p(u,r):(o[c]=_t(u),o[c].c(),o[c].m(e.parentNode,e))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(t){f(o,t),t&&i(e)}}}function yt(t){let e,n,o,r,c=t[4].name+"";return{c(){e=d("div"),n=d("strong"),o=m(c),r=m("\n                has already buzzed in\n            "),y(n,"color","#ebcb8b"),y(e,"color","#ebcb8b")},m(t,c){a(t,e,c),l(e,n),l(n,o),l(e,r)},p(t,e){2&e&&c!==(c=t[4].name+"")&&b(o,c)},d(t){t&&i(e)}}}function _t(t){let e,n=t[4].blocked&&yt(t);return{c(){n&&n.c(),e=p()},m(t,o){n&&n.m(t,o),a(t,e,o)},p(t,o){t[4].blocked?n?n.p(t,o):(n=yt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&i(e)}}}function xt(e){let n,o,r,c,u,s,f,g,v="Open"===e[0].state&&vt(e);return{c(){n=d("div"),r=h(),c=d("div"),u=m(e[3]),f=h(),v&&v.c(),g=p(),$(n,"id","topbar"),$(n,"style",o=`background-color:#${e[2]}`),$(n,"class","svelte-1irxxxw"),$(c,"id","state"),$(c,"style",s=`color:#${e[2]}`),$(c,"class","svelte-1irxxxw")},m(t,e){a(t,n,e),a(t,r,e),a(t,c,e),l(c,u),a(t,f,e),v&&v.m(t,e),a(t,g,e)},p(t,[e]){4&e&&o!==(o=`background-color:#${t[2]}`)&&$(n,"style",o),8&e&&b(u,t[3]),4&e&&s!==(s=`color:#${t[2]}`)&&$(c,"style",s),"Open"===t[0].state?v?v.p(t,e):(v=vt(t),v.c(),v.m(g.parentNode,g)):v&&(v.d(1),v=null)},i:t,o:t,d(t){t&&i(n),t&&i(r),t&&i(c),t&&i(f),v&&v.d(t),t&&i(g)}}}function wt(t,e,n){let o,r,c,s;return u(t,Y,(t=>n(0,o=t))),u(t,X,(t=>n(1,r=t))),t.$$.update=()=>{if(3&t.$$.dirty)switch(o.state){case"Closed":n(2,c="bf616a"),n(3,s="the buzzer is closed");break;case"Open":n(2,c=r.every((t=>t.blocked))?"ebcb8b":"a3be8c"),n(3,s="the buzzer is open");break;case"TakenBy":n(2,c=r.some((t=>t.name===o.owner))?"88c0d0":"bf616a"),n(3,s=`${o.owner} has buzzed in`)}},[o,r,c,s]}class zt extends U{constructor(t){super(),Q(this,t,wt,xt,c,{})}}function kt(t){let e,n;return{c(){e=m(t[1]),n=h()},m(t,o){a(t,e,o),a(t,n,o)},p(t,n){2&n&&b(e,t[1])},d(t){t&&i(e),t&&i(n)}}}function Ct(t){let e,n,r,c,u,s;return{c(){e=d("input"),n=h(),r=d("button"),r.textContent="🞬",c=h(),$(e,"class","hidden"),$(r,"class","hidden")},m(o,l){a(o,e,l),v(e,t[2]),a(o,n,l),a(o,r,l),a(o,c,l),u||(s=[g(e,"input",t[6]),g(e,"focusout",t[4]),g(r,"mousedown",t[5])],u=!0)},p(t,n){4&n&&e.value!==t[2]&&v(e,t[2])},d(t){t&&i(e),t&&i(n),t&&i(r),t&&i(c),u=!1,o(s)}}}function St(e){let n,o,r;function c(t,e){return t[3]?Ct:kt}let u=c(e),s=u(e);return{c(){n=m(e[0]),o=m(":\n"),s.c(),r=d("br")},m(t,e){a(t,n,e),a(t,o,e),s.m(t,e),a(t,r,e)},p(t,[e]){1&e&&b(n,t[0]),u===(u=c(t))&&s?s.p(t,e):(s.d(1),s=u(t),s&&(s.c(),s.m(r.parentNode,r)))},i:t,o:t,d(t){t&&i(n),t&&i(o),s.d(t),t&&i(r)}}}function Nt(t,e,n){let o,r,c;u(t,tt,(t=>n(7,r=t))),u(t,nt,(t=>n(3,c=t)));let{thisName:l}=e,{thisScore:a}=e;return t.$$set=t=>{"thisName"in t&&n(0,l=t.thisName),"thisScore"in t&&n(1,a=t.thisScore)},t.$$.update=()=>{2&t.$$.dirty&&n(2,o=a.toString())},[l,a,o,c,function(){rt("/command",{action:"SetScore",name:l,score:parseInt(o)})},function(){s(tt,r=r.filter((t=>t.name!==l)),r),rt("/command",{action:"RemovePlayer",name:l})},function(){o=this.value,n(2,o),n(1,a)}]}class Et extends U{constructor(t){super(),Q(this,t,Nt,St,c,{thisName:0,thisScore:1})}}function Ot(t,e,n){const o=t.slice();return o[2]=e[n],o}function Kt(t){let e,n,o;return{c(){e=d("span"),e.textContent="scores",n=d("br"),o=h(),$(e,"class","header")},m(t,r){a(t,e,r),a(t,n,r),a(t,o,r)},d(t){t&&i(e),t&&i(n),t&&i(o)}}}function Tt(t){let e,n,o;return{c(){e=d("span"),e.textContent="scores (click to edit)",n=d("br"),o=h(),$(e,"class","header")},m(t,r){a(t,e,r),a(t,n,r),a(t,o,r)},d(t){t&&i(e),t&&i(n),t&&i(o)}}}function Pt(t,e){let n,o,r;return o=new Et({props:{thisName:e[2].name,thisScore:e[2].score}}),{key:t,first:null,c(){n=p(),D(o.$$.fragment),this.first=n},m(t,e){a(t,n,e),F(o,t,e),r=!0},p(t,n){e=t;const r={};2&n&&(r.thisName=e[2].name),2&n&&(r.thisScore=e[2].score),o.$set(r)},i(t){r||(I(o.$$.fragment,t),r=!0)},o(t){R(o.$$.fragment,t),r=!1},d(t){t&&i(n),G(o,t)}}}function At(t){let e,n,o,r,c,u,s=[],l=new Map;function f(t,e){return t[0]?Tt:Kt}let m=f(t),p=m(t),g=t[1];const $=t=>t[2].name;for(let e=0;e<g.length;e+=1){let n=Ot(t,g,e),o=$(n);l.set(o,s[e]=Pt(o,n))}return{c(){e=d("hr"),n=h(),p.c(),o=d("br"),r=h(),c=d("div");for(let t=0;t<s.length;t+=1)s[t].c();y(c,"text-align","right"),y(c,"display","inline-block")},m(t,l){a(t,e,l),a(t,n,l),p.m(t,l),a(t,o,l),a(t,r,l),a(t,c,l);for(let t=0;t<s.length;t+=1)s[t].m(c,null);u=!0},p(t,[e]){m!==(m=f(t))&&(p.d(1),p=m(t),p&&(p.c(),p.m(o.parentNode,o))),2&e&&(g=t[1],M(),s=function(t,e,n,o,r,c,u,s,l,a,i,f){let d=t.length,m=c.length,h=d;const p={};for(;h--;)p[t[h].key]=h;const g=[],$=new Map,b=new Map;for(h=m;h--;){const t=f(r,c,h),s=n(t);let l=u.get(s);l?o&&l.p(t,e):(l=a(s,t),l.c()),$.set(s,g[h]=l),s in p&&b.set(s,Math.abs(h-p[s]))}const v=new Set,y=new Set;function _(t){I(t,1),t.m(s,i),u.set(t.key,t),i=t.first,m--}for(;d&&m;){const e=g[m-1],n=t[d-1],o=e.key,r=n.key;e===n?(i=e.first,d--,m--):$.has(r)?!u.has(o)||v.has(o)?_(e):y.has(r)?d--:b.get(o)>b.get(r)?(y.add(o),_(e)):(v.add(r),d--):(l(n,u),d--)}for(;d--;){const e=t[d];$.has(e.key)||l(e,u)}for(;m;)_(g[m-1]);return g}(s,e,$,1,t,g,l,c,J,Pt,null,Ot),q())},i(t){if(!u){for(let t=0;t<g.length;t+=1)I(s[t]);u=!0}},o(t){for(let t=0;t<s.length;t+=1)R(s[t]);u=!1},d(t){t&&i(e),t&&i(n),p.d(t),t&&i(o),t&&i(r),t&&i(c);for(let t=0;t<s.length;t+=1)s[t].d()}}}function jt(t,e,n){let o,r;return u(t,nt,(t=>n(0,o=t))),u(t,tt,(t=>n(1,r=t))),[o,r]}class Bt extends U{constructor(t){super(),Q(this,t,jt,At,c,{})}}function Lt(t){let e,n,r,c,u,s,f,p,$,v,y=t[1].owner+"";return{c(){e=m("is "),n=d("strong"),r=m(y),c=h(),u=d("button"),u.textContent="correct",s=m(" or\n    "),f=d("button"),f.textContent="incorrect",p=m("?")},m(o,i){a(o,e,i),a(o,n,i),l(n,r),a(o,c,i),a(o,u,i),a(o,s,i),a(o,f,i),a(o,p,i),$||(v=[g(u,"mousedown",t[3]),g(f,"mousedown",t[4])],$=!0)},p(t,e){2&e&&y!==(y=t[1].owner+"")&&b(r,y)},d(t){t&&i(e),t&&i(n),t&&i(c),t&&i(u),t&&i(s),t&&i(f),t&&i(p),$=!1,o(v)}}}function Mt(t){let e,n,r,c,u,s,f,p,b,v,y,x,w,z,k,C,S;return{c(){e=m("this question is worth\n    "),n=d("select"),r=d("option"),r.textContent="200",c=d("option"),c.textContent="400",u=d("option"),u.textContent="600",s=d("option"),s.textContent="800",f=d("option"),f.textContent="1000",p=d("option"),p.textContent="1200",b=d("option"),b.textContent="1600",v=d("option"),v.textContent="2000",y=m("\n    points (click to change)"),x=d("br"),w=d("br"),z=h(),k=d("button"),k.textContent="open buzzer",r.__value="200",r.value=r.__value,c.__value="400",c.value=c.__value,u.__value="600",u.value=u.__value,s.__value="800",s.value=s.__value,f.__value="1000",f.value=f.__value,p.__value="1200",p.value=p.__value,b.__value="1600",b.value=b.__value,v.__value="2000",v.value=v.__value,void 0===t[0]&&K((()=>t[5].call(n))),$(k,"class","large")},m(o,i){a(o,e,i),a(o,n,i),l(n,r),l(n,c),l(n,u),l(n,s),l(n,f),l(n,p),l(n,b),l(n,v),_(n,t[0]),a(o,y,i),a(o,x,i),a(o,w,i),a(o,z,i),a(o,k,i),C||(S=[g(n,"change",t[5]),g(k,"mousedown",t[4])],C=!0)},p(t,e){1&e&&_(n,t[0])},d(t){t&&i(e),t&&i(n),t&&i(y),t&&i(x),t&&i(w),t&&i(z),t&&i(k),C=!1,o(S)}}}function qt(e){let n,o,r;return{c(){n=d("button"),n.textContent="end round early",$(n,"class","large")},m(t,c){a(t,n,c),o||(r=g(n,"mousedown",e[2]),o=!0)},p:t,d(t){t&&i(n),o=!1,r()}}}function It(e){let n,o,r,c,u,s;function l(t,e){return"Open"===t[1].state?qt:"Closed"===t[1].state?Mt:"TakenBy"===t[1].state?Lt:void 0}let f=l(e),m=f&&f(e);return{c(){n=d("hr"),o=h(),r=d("span"),r.textContent="host commands",c=d("br"),u=h(),m&&m.c(),s=p(),$(r,"class","header")},m(t,e){a(t,n,e),a(t,o,e),a(t,r,e),a(t,c,e),a(t,u,e),m&&m.m(t,e),a(t,s,e)},p(t,[e]){f===(f=l(t))&&m?m.p(t,e):(m&&m.d(1),m=f&&f(t),m&&(m.c(),m.m(s.parentNode,s)))},i:t,o:t,d(t){t&&i(n),t&&i(o),t&&i(r),t&&i(c),t&&i(u),m&&m.d(t),t&&i(s)}}}function Rt(t,e,n){let o,r,c;function l(){r.state,rt("/command",{action:"EndRound"})}return u(t,et,(t=>n(6,o=t))),u(t,Y,(t=>n(1,r=t))),t.$$.update=()=>{1&t.$$.dirty&&s(et,o=parseInt(c),o)},[c,r,l,function(){console.table([r.owner,o]),rt("/command",{action:"AddScore",name:r.owner,score:o}),l()},function(){r.state,rt("/command",{action:"OpenBuzzer"})},function(){c=x(this),n(0,c)}]}class Jt extends U{constructor(t){super(),Q(this,t,Rt,It,c,{})}}function Dt(t,e,n){const o=t.slice();return o[8]=e[n],o[9]=e,o[10]=n,o}function Ft(t){let e,n,o,r,c;function u(){t[5].call(e,t[9],t[10])}return{c(){e=d("input"),n=h(),o=d("br"),$(e,"placeholder","enter your name")},m(s,l){a(s,e,l),v(e,t[8].name),a(s,n,l),a(s,o,l),r||(c=g(e,"input",u),r=!0)},p(n,o){t=n,1&o&&e.value!==t[8].name&&v(e,t[8].name)},d(t){t&&i(e),t&&i(n),t&&i(o),r=!1,c()}}}function Gt(e){let n,r,c,u,s,p,v,y,_,x,w,z,k,C,S,N,E,O,K,T,P,A,j,B,L,M=e[1]?"☑":"☐",q=e[0],I=[];for(let t=0;t<q.length;t+=1)I[t]=Ft(Dt(e,q,t));return{c(){n=m("contestant(s), enter your name(s)"),r=d("br"),c=m("\n(hosts do not need to enter their names)\n"),u=d("hr"),s=h();for(let t=0;t<I.length;t+=1)I[t].c();p=h(),v=d("button"),v.textContent="add contestant",y=h(),_=d("button"),x=m("remove contestant"),z=h(),k=d("hr"),C=m("\ndoes this device need host access?"),S=d("br"),N=h(),E=d("button"),O=m(M),K=m("\n    host access"),T=h(),P=d("hr"),A=h(),j=d("button"),j.textContent="play",_.disabled=w=0===e[0].length,$(j,"class","large")},m(t,o){a(t,n,o),a(t,r,o),a(t,c,o),a(t,u,o),a(t,s,o);for(let e=0;e<I.length;e+=1)I[e].m(t,o);a(t,p,o),a(t,v,o),a(t,y,o),a(t,_,o),l(_,x),a(t,z,o),a(t,k,o),a(t,C,o),a(t,S,o),a(t,N,o),a(t,E,o),l(E,O),l(E,K),a(t,T,o),a(t,P,o),a(t,A,o),a(t,j,o),B||(L=[g(v,"mousedown",e[2]),g(_,"mousedown",e[3]),g(E,"mousedown",e[6]),g(j,"mousedown",e[4])],B=!0)},p(t,[e]){if(1&e){let n;for(q=t[0],n=0;n<q.length;n+=1){const o=Dt(t,q,n);I[n]?I[n].p(o,e):(I[n]=Ft(o),I[n].c(),I[n].m(p.parentNode,p))}for(;n<I.length;n+=1)I[n].d(1);I.length=q.length}1&e&&w!==(w=0===t[0].length)&&(_.disabled=w),2&e&&M!==(M=t[1]?"☑":"☐")&&b(O,M)},i:t,o:t,d(t){t&&i(n),t&&i(r),t&&i(c),t&&i(u),t&&i(s),f(I,t),t&&i(p),t&&i(v),t&&i(y),t&&i(_),t&&i(z),t&&i(k),t&&i(C),t&&i(S),t&&i(N),t&&i(E),t&&i(T),t&&i(P),t&&i(A),t&&i(j),B=!1,o(L)}}}function Ht(t,e,n){let o,r,c;u(t,X,(t=>n(0,o=t))),u(t,Z,(t=>n(7,r=t))),u(t,nt,(t=>n(1,c=t)));return[o,c,function(){s(X,o=[...o,{name:"",blocked:!1,buzzKey:"Space"}],o)},function(){o.pop(),X.set(o)},function(){s(X,o=o.filter((t=>!!t.name)),o),o.map((t=>rt("/command",{action:"AddPlayer",name:t.name}))),s(Z,r=!1,r)},function(t,e){t[e].name=this.value,X.set(o)},()=>s(nt,c=!c,c)]}class Qt extends U{constructor(t){super(),Q(this,t,Ht,Gt,c,{})}}function Ut(t){let e,n,o,r,c,u,s;e=new zt({}),o=new $t({});let l=t[1]&&Wt();return u=new Bt({}),{c(){D(e.$$.fragment),n=h(),D(o.$$.fragment),r=h(),l&&l.c(),c=h(),D(u.$$.fragment)},m(t,i){F(e,t,i),a(t,n,i),F(o,t,i),a(t,r,i),l&&l.m(t,i),a(t,c,i),F(u,t,i),s=!0},p(t,e){t[1]?l?2&e&&I(l,1):(l=Wt(),l.c(),I(l,1),l.m(c.parentNode,c)):l&&(M(),R(l,1,1,(()=>{l=null})),q())},i(t){s||(I(e.$$.fragment,t),I(o.$$.fragment,t),I(l),I(u.$$.fragment,t),s=!0)},o(t){R(e.$$.fragment,t),R(o.$$.fragment,t),R(l),R(u.$$.fragment,t),s=!1},d(t){G(e,t),t&&i(n),G(o,t),t&&i(r),l&&l.d(t),t&&i(c),G(u,t)}}}function Vt(e){let n,o;return n=new Qt({}),{c(){D(n.$$.fragment)},m(t,e){F(n,t,e),o=!0},p:t,i(t){o||(I(n.$$.fragment,t),o=!0)},o(t){R(n.$$.fragment,t),o=!1},d(t){G(n,t)}}}function Wt(t){let e,n;return e=new Jt({}),{c(){D(e.$$.fragment)},m(t,o){F(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Xt(t){let e,n,o,r,c;const u=[Vt,Ut],s=[];function l(t,e){return t[0]?0:1}return e=l(t),n=s[e]=u[e](t),{c(){n.c(),o=h(),r=d("div"),r.textContent="v0.1.4",$(r,"id","footer"),$(r,"class","svelte-zc7rqv")},m(t,n){s[e].m(t,n),a(t,o,n),a(t,r,n),c=!0},p(t,[r]){let c=e;e=l(t),e===c?s[e].p(t,r):(M(),R(s[c],1,1,(()=>{s[c]=null})),q(),n=s[e],n?n.p(t,r):(n=s[e]=u[e](t),n.c()),I(n,1),n.m(o.parentNode,o))},i(t){c||(I(n),c=!0)},o(t){R(n),c=!1},d(t){s[e].d(t),t&&i(o),t&&i(r)}}}function Yt(t,e,n){let o,r,c,l,a;u(t,Y,(t=>n(2,o=t))),u(t,X,(t=>n(3,r=t))),u(t,tt,(t=>n(4,c=t))),u(t,Z,(t=>n(0,l=t))),u(t,nt,(t=>n(1,a=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,c){function u(t){try{l(o.next(t))}catch(t){c(t)}}function s(t){try{l(o.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,s)}l((o=o.apply(t,e||[])).next())}))};return setInterval((function(){return i(this,void 0,void 0,(function*(){let t;yield ot("/state/buzzer").then((e=>t=e)),t.state!==o.state&&(r.map((t=>fetch(`/blocked/${t.name}`).then((t=>t.text())).then((e=>t.blocked="!"===e)))),X.set(r),s(Y,o=t,o))}))}),100),setInterval((function(){return i(this,void 0,void 0,(function*(){yield ot("/state/scores").then((t=>s(tt,c=t,c)))}))}),500),[l,a]}return new class extends U{constructor(t){super(),Q(this,t,Yt,Xt,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
